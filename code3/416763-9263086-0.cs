    /// <summary>
    /// Control signals received by the console control handler.
    /// </summary>
	public enum ConsoleControlEventType: int
	{
        /// <summary>
        /// A CTRL+C signal was received, either from keyboard input or from a
        /// signal generated by the GenerateConsoleCtrlEvent function.
        /// </summary>
		CtrlC = 0,
        /// <summary>
        /// A CTRL+BREAK signal was received, either from keyboard input or from
        /// a signal generated by GenerateConsoleCtrlEvent.
        /// </summary>
		CtrlBreak = 1,
        /// <summary>
        /// A signal that the system sends to all processes attached to a console
        /// when the user closes the console (either by clicking Close on the console
        /// window's window menu, or by clicking the End Task button command from
        /// Task Manager).
        /// </summary>
		CtrlClose = 2,
        // 3 and 4 are reserved, per WinCon.h
        /// <summary>
        /// A signal that the system sends to all console processes when a user is logging off. 
        /// </summary>
		CtrlLogoff = 5,
        /// <summary>
        /// A signal that the system sends to all console processes when the system is shutting down. 
        /// </summary>
		CtrlShutdown = 6
    }
    /// <summary>
    /// Control event handler delegate.
    /// </summary>
    /// <param name="CtrlType">Control event type.</param>
    /// <returns>Return true to cancel the control event.  A return value of false
    /// will terminate the application and send the event to the next control
    /// handler.</returns>
    public delegate bool ConsoleCtrlHandlerDelegate(ConsoleControlEventType CtrlType);
    [DllImport("kernel32.dll", SetLastError=true)]
    public static extern bool SetConsoleCtrlHandler(
	ConsoleCtrlHandlerDelegate HandlerRoutine,
	bool Add);
